<div class="ride-card" *ngIf="ride">
  <div class="ride-details-section">
    <div class="route-info">
      <h3>Ride details</h3>
      <p class="time-label">
        {{ ride.startTime | date:'dd.MM.yyyy. HH:mm' }}
        <span *ngIf="ride.endTime"> - {{ ride.endTime | date:'HH:mm' }}</span>
      </p>
      
      <div class="route-container">
        <div class="visual-track">
          <span class="dot green"></span>
          <div class="location-line"></div>
          <img src="/icons/location-icon.png" alt="destination" class="location-icon">
        </div>
        <div class="addresses">
          <div class="address-pill">{{ ride.startLocation }}</div>
          <div class="address-pill">{{ ride.endLocation }}</div>
        </div>
      </div>
    </div>

    <div class="status-container">
      <div class="price-tag">{{ ride.price }} din</div>
      
      <div class="status-alerts">
        <div class="alert-tag finished" *ngIf="ride.status === 'COMPLETED'">Finished</div>
        <div class="alert-tag active" *ngIf="ride.status === 'ACTIVE'">In Progress...</div>
        <div class="alert-tag scheduled" *ngIf="ride.status === 'SCHEDULED'">Scheduled</div>
        <div class="alert-tag stopped" *ngIf="ride.status === 'STOPPED'">Stopped</div>
      </div>

      <div class="alerts-container">
        <div *ngIf="ride.panicPressed" class="alert panic-alert">
          <strong>PANIC:</strong> {{ ride.panicReason }}
        </div>
        <div *ngIf="ride.cancelled" class="alert cancel-alert">
          <strong>CANCELLED:</strong> {{ ride.cancellReason }}
        </div>
      </div>
    </div>
  </div>
</div>